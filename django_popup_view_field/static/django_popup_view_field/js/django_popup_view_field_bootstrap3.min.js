if("undefined"==typeof jQuery)throw new Error("django-popup-view-field - requires jQuery");$(document).ready(function(){var t=0,o=function(t,a,i,n,e){var r={url:i,method:n,cache:!1};null!=e&&(r.data=e);var d=$.ajax(r);d.done(function(i){t.find(".modal-body").html(i),function(t,a){var i=t.find(".modal-body");i.find("*").on("click",function(i){var n=null,e=$(this),r=e.data("popup-view-value");if(void 0!==r&&("html()"===r&&(r=e.html())&&(r=r.trim()),n=a.data("target"),target=$("#"+n),i.stopPropagation(),t.modal("hide"),target.val(r)),!0===e.is("a[href]")){var d=e.prop("href");return i.stopPropagation(),o(t,a,d,"GET",null),!1}}),i.find("form").on("submit",function(i){var n=$(this),e=n.attr("method")||"POST",r=n.attr("action")||".",d=n.serialize();return i.stopPropagation(),o(t,a,r,e,d),!1})}(t,a)}),d.fail(function(o){throw t.modal("hide"),new Error("django-popup-view-field - Ajax request to url: "+i)})};$(".popup-view-btn-load").on("click",function(){var a=$(this),i=function(o){var a=$("#template-django-popup-view-field").html(),i=$(a),n=i.attr("id")+t,e=o.data("popup-dialog-title"),r=gettext("Data is loading ..."),d=gettext("Close");return i.attr("id",n),i.find(".modal-title").html(e),i.find(".modal-body").html(r),i.find(".modal-footer-close").html(d),t++,i}(a),n=function(t){return t.data("url")}(a);i.modal({backdrop:!1}),i.on("hidden.bs.modal",function(t){$(this).remove()}),o(i,a,n,"GET",null)}),$(".popup-view-btn-clear").on("click",function(){var t=$(this).data("target");$("#"+t).val("")})});
